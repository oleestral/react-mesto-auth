{"version":3,"sources":["images/logo.svg","components/Header.js","images/pencil.svg","images/CloseIcon.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/success.svg","images/error.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","location","useLocation","className","src","logo","alt","loggedIn","email","onClick","onLogOut","type","to","pathname","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","id","link","name","onCardClick","onCardLike","length","onCardDelete","Main","avatar","pencil","isEditAvatarPopupOpen","about","isEditProfilePopupOpen","isAddPlacePopupOpen","closeIcon","cards","map","item","Footer","ImagePopup","isOpen","onClose","api","address","headers","this","_address","_headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponseData","body","JSON","stringify","authorization","_token","info","PopupWithForm","title","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","autoComplete","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","ref","useRef","onUpdateAvatar","current","AddPlacePopup","place","setPlace","setLink","onAddCard","withRouter","history","useHistory","setEmail","password","setPassword","onLogin","push","onRegister","ProtectedRoute","Component","component","InfoTooltip","isSuccessful","success","error","auth","BASE_URL","_url","Accept","token","Authorization","App","setCurrentUser","setIsAddPlacePopupOpen","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","selectedCard","setSelectedCard","imageOpened","setImageOpened","setCards","setLoggedIn","setSuccess","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","closeAllPopups","jwt","localStorage","getItem","all","getUserInfo","getInitialCards","catch","err","console","log","checkToken","data","closeByEscape","key","document","addEventListener","removeEventListener","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","c","removeUserCards","filter","signIn","setItem","signUp","addUserCards","editUserProfile","updateUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cf7aa1f6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nfunction Header(props) {\n  const location = useLocation();\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Место Россия\" />\n      {props.loggedIn ? (\n        <div className=\"header__box\">\n          <p className=\"header__link\">{props.email}</p>\n          <button\n            className=\"header__btn\"\n            onClick={props.onLogOut}\n            type=\"submit\"\n          >\n            Выйти\n          </button>\n        </div>\n      ) : (\n        <Link\n          to={location.pathname === \"/signin\" ? \"/signup\" : \"/signin\"}\n          className=\"header__link\"\n        >\n          {`${location.pathname === \"/signin\" ? \"Регистрация\" : \"Войти\"}`}\n        </Link>\n      )}\n    </header>\n  );\n}\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/pencil.88838230.svg\";","export default __webpack_public_path__ + \"static/media/CloseIcon.118074ba.svg\";","import React from \"react\";\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `element__delete-button ${\n    isOwn ? \"\" : \"element__delete-button-invisibility\"\n  }`;\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__like-button ${\n    isLiked ? \"element__like-button_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <article className=\"element\" id={props.card._id}>\n      <img\n        className=\"element__image\"\n        src={props.card.link}\n        alt={props.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__footer\">\n        <h2 className=\"element__paragraph\">{props.card.name}</h2>\n        <button\n          type=\"button\"\n          className={cardLikeButtonClassName}\n          onClick={handleLikeClick}\n        ></button>\n      </div>\n      <p className=\"element__like-counter\">{props.card.likes.length}</p>\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n    </article>\n  );\n}\nexport default Card;\n","import React from \"react\";\nimport pencil from \"../images/pencil.svg\";\nimport closeIcon from \"../images/CloseIcon.svg\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Card from \"./Card\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img\n          className=\"profile__avatar\"\n          src={currentUser.avatar}\n          alt=\"аватар\"\n        />\n        <img\n          className=\"profile__avatar-edit\"\n          src={pencil}\n          alt=\"Редактировать профиль\"\n          onClick={props.isEditAvatarPopupOpen}\n        />\n        <div className=\"profile__info\">\n          <div className=\"profile__info-items\">\n            <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n            <p className=\"profile__info-self-description\">\n              {currentUser.about}\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"profile__info-edit-button button\"\n            onClick={props.isEditProfilePopupOpen}\n          ></button>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__info-add-button button\"\n          onClick={props.isAddPlacePopupOpen}\n        >\n          <img\n            className=\"profile__info-add-button-image\"\n            src={closeIcon}\n            alt=\"Кнопка добавить\"\n          />\n        </button>\n      </section>\n      <section className=\"elements\">\n        {props.cards.map((item) => {\n          return (\n            <Card\n              key={item._id}\n              card={item}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n    return (\n    <footer className = \"footer\">\n        <p className = \"footer__paragraph\">&copy;2021 Mesto Russia</p>\n    </footer>\n    )\n}\nexport default Footer;","import React from 'react';\n\n\nfunction ImagePopup(props) {\n    return (\n        <div className = {`popup popup-open popup-close ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n            <div className = \"popup-open__container\">\n                <button type = \"button\" className = \"popup__close-button popup-open__close-button\" onClick={props.onClose}></button>\n                <img className = \"popup-open__image\" src = {props.card.link} alt = {props.card.name} id = \"opened-image\"/>\n                <h3 className = \"popup-open__title\" id = \"popup-open-title\">{props.card.name}</h3>\n            </div>\n        </div>\n    )\n}\nexport default ImagePopup;","class Api {\n  constructor({ address, headers }) {\n    this._address = address;\n    this._headers = headers;\n  }\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n  //user information\n  getUserInfo() {\n    return fetch(`${this._address}/users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n  //edit user profile\n  editUserProfile(name, about) {\n    return fetch(`${this._address}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(this._getResponseData);\n  }\n  //get Initial Cards\n  getInitialCards() {\n    return fetch(`${this._address}/cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n  //add user's cards\n  addUserCards(name, link) {\n    return fetch(`${this._address}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(this._getResponseData);\n  }\n  //remove user's card\n  removeUserCards(id) {\n    return fetch(`${this._address}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n  //like post\n  like(id) {\n    return fetch(`${this._address}/cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n  //remove like\n  removeLike(id) {\n    return fetch(`${this._address}/cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._getResponseData);\n  }\n  //update user avatar\n  updateUserAvatar(info) {\n    return fetch(`${this._address}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: info.avatar,\n      }),\n    }).then(this._getResponseData);\n  }\n  changeLikeCardStatus(id, isLiked) {\n    const method = isLiked ? \"DELETE\" : \"PUT\";\n    return fetch(`${this._address}/cards/likes/${id}`, {\n      method: method,\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n}\n\nconst api = new Api({\n  address: \"https://mesto.nomoreparties.co/v1/cohort-22\",\n  headers: {\n    authorization: \"42bb299b-ecdd-434e-b139-b5601cfc74ef\",\n    \"Content-Type\": \"application/json\",\n  },\n});\nexport default api;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`popup popup-close popup-${props.name} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <h2 className=\"popup__edit-profile\">{props.title}</h2>\n        <form\n          name={`input-container form-${props.name}`}\n          className=\"popup__form popup__input-container \"\n          onSubmit={props.onSubmit}\n        >\n          <fieldset className=\"popup__set\">{props.children}</fieldset>\n          <button\n            type=\"submit\"\n            className=\"popup__submit popup__submit-button popup__save-button\"\n          >\n            {props.buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      buttonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__section\">\n        <input\n          className=\"popup__input popup__item popup__item_type_name\"\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          placeholder=\"Ваше имя\"\n          autoComplete=\"off\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={name}\n          onChange={handleChangeName}\n        />\n        <span className=\"popup__input-type-error name-error\"></span>\n      </div>\n      <div className=\"popup__section\">\n        <input\n          className=\"popup__input popup__item popup__item_type_caption\"\n          type=\"text\"\n          id=\"about\"\n          name=\"about\"\n          placeholder=\"О себе\"\n          autoComplete=\"off\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={description}\n          onChange={handleChangeDescription}\n        />\n        <span className=\"popup__input-type-error caption-error\"></span>\n      </div>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const ref = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: ref.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"update\"\n      title=\"Обновить аватар\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      buttonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__section\">\n        <input\n          className=\"popup__input popup__item popup__item_avatar_link\"\n          type=\"url\"\n          id=\"avatar\"\n          name=\"avatar\"\n          placeholder=\"Cсылка на картинку\"\n          autoComplete=\"off\"\n          required\n          ref={ref}\n        />\n        <span className=\"popup__input-type-error avatar-error\"></span>\n      </div>\n    </PopupWithForm>\n  );\n}\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [place, setPlace] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n  function handleChangePlace(e) {\n    setPlace(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddCard({\n      name: place,\n      link,\n    });\n  }\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"Новое место\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      buttonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__section\">\n        <input\n          className=\"popup__input popup__item popup__item_card_name\"\n          type=\"text\"\n          id=\"name-place\"\n          name=\"name\"\n          placeholder=\"Название\"\n          autoComplete=\"off\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          required\n          value={place}\n          onChange={handleChangePlace}\n        />\n        <span className=\"popup__input-type-error name-place-error\"></span>\n      </div>\n      <div className=\"popup__section\">\n        <input\n          className=\"popup__input popup__item popup__item_card_link\"\n          type=\"url\"\n          id=\"link\"\n          name=\"link\"\n          placeholder=\"Cсылка на картинку\"\n          autoComplete=\"off\"\n          required\n          value={link}\n          onChange={handleChangeLink}\n        />\n        <span className=\"popup__input-type-error link-error\"></span>\n      </div>\n    </PopupWithForm>\n  );\n}\nexport default AddPlacePopup;\n","import React from \"react\";\nimport { withRouter, useHistory } from \"react-router-dom\";\n\nfunction Login(props) {\n  const history = useHistory();\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n  function handleChangePasword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onLogin(email, password);\n    history.push(\"/\");\n  }\n\n  return (\n    <div className=\"login\">\n      <div className=\"login__container\">\n        <h2 className=\"login__title\">Вход</h2>\n        <form className=\"login__form\" onSubmit={handleSubmit}>\n          <input\n            className=\"popup__input popup__item login__item\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"Email\"\n            required\n            type=\"email\"\n            value={email}\n            onChange={handleChangeEmail}\n          />\n          <input\n            className=\"popup__input popup__item login__item\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Пароль\"\n            required\n            type=\"password\"\n            password={password}\n            onChange={handleChangePasword}\n          />\n          <button className=\"login__button\">Войти</button>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default withRouter(Login);\n","import React from \"react\";\nimport { Link, withRouter, useHistory } from \"react-router-dom\";\n\nfunction Register(props) {\n  const history = useHistory();\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  function handleSetEmail(e) {\n    setEmail(e.target.value);\n  }\n  function handleSetPasword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onRegister(email, password);\n    history.push(\"/signin\");\n  }\n\n  return (\n    <div className=\"login\">\n      <div className=\"login__container\">\n        <h2 className=\"login__title\">Регистрация</h2>\n        <form className=\"login__form\" onSubmit={handleSubmit}>\n          <input\n            className=\"popup__input popup__item login__item\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleSetEmail}\n            autoComplete=\"off\"\n          />\n          <input\n            className=\"popup__input popup__item login__item\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Пароль\"\n            required\n            type=\"password\"\n            value={password}\n            autoComplete=\"off\"\n            onChange={handleSetPasword}\n          />\n          <button className=\"login__button\">Зарегистрироваться</button>\n          <p className=\"login__paragraph\">\n            Уже зарегистрированы?{\" \"}\n            <Link to=\"/signin\" className=\"login__link\">\n              Войти\n            </Link>\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default withRouter(Register);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signup\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from \"react\";\nimport success from \"../images/success.svg\";\nimport error from \"../images/error.svg\";\n\nfunction InfoTooltip(props) {\n  return (\n    <div className={`popup popup-close ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          className=\"popup__image\"\n          src={props.isSuccessful ? success : error}\n          alt={props.isSuccessful ? \"Успешно\" : \"Ошибка\"}\n        />\n        <h2 className=\"popup__edit-profile popup__tooltip-title\">\n          {props.isSuccessful\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}{\" \"}\n        </h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","class Auth {\n  constructor({ BASE_URL }) {\n    this._url = BASE_URL;\n  }\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n  signIn(email, password) {\n    return fetch(`${this._url}/signin`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email: email, password: password }),\n    }).then(this._getResponseData);\n  }\n  signUp(email, password) {\n    return fetch(`${this._url}/signup`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email: email, password: password }),\n    }).then(this._getResponseData);\n  }\n  checkToken(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._getResponseData);\n  }\n}\nconst auth = new Auth({ BASE_URL: \"https://auth.nomoreparties.co\" });\nexport default auth;\n","import React from \"react\";\nimport \"../index.css\";\nimport Header from \"../components/Header\";\nimport Main from \"./Main\";\nimport Footer from \"../components/Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport {\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n  BrowserRouter,\n} from \"react-router-dom\";\nimport auth from \"../utils/auth\";\n\nfunction App() {\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState({ name: \"\", about: \"\" });\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [imageOpened, setImageOpened] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState(\"\");\n  const [success, setSuccess] = React.useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] =\n    React.useState(false);\n\n  // user data & initial cards\n  function getGeneralData() {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([info, card]) => {\n        setCurrentUser(info);\n        setCards(card);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  //delete card\n  function handleDeleteClick(card) {\n    api\n      .removeUserCards(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  // update user profile\n  function handleUpdateUser({ name, about }) {\n    api\n      .editUserProfile(name, about)\n      .then((info) => {\n        setCurrentUser(info);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  // update user avatar\n  function handleUpdateAvatar(link) {\n    api\n      .updateUserAvatar(link)\n      .then((info) => {\n        setCurrentUser(info);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  // add card\n  function handleAddCard({ name, link }) {\n    api\n      .addUserCards(name, link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  // open card\n  function handleCardClick(item) {\n    setImageOpened(!imageOpened);\n    setSelectedCard(item);\n  }\n  // for openning add popup\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n  // for openning avatar popup\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n  // for openning profile popup\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  // close popups\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setSelectedCard({});\n    setImageOpened(false);\n    setIsInfoTooltipPopupOpen(false);\n  }\n  // like\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  //login\n  function handleSignIn(email, password) {\n    auth\n      .signIn(email, password)\n      .then((item) => {\n        localStorage.setItem(\"jwt\", item.token);\n        setLoggedIn(true);\n        setEmail(email);\n        console.log(email);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  //signup\n  function handleSignUp(email, password) {\n    auth\n      .signUp(email, password)\n      .then((item) => {\n        setSuccess(true);\n        setIsInfoTooltipPopupOpen(true);\n      })\n      .catch((err) => {\n        console.log(err);\n        setSuccess(false);\n        setIsInfoTooltipPopupOpen(true);\n      });\n  }\n  //logout\n  function handleLogOut() {\n    setLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/signin\");\n  }\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    getGeneralData();\n    auth\n      .checkToken(jwt)\n      .then((item) => {\n        setLoggedIn(true);\n        setEmail(item.data.email);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  // closing popups by Escape\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n\n    document.addEventListener(\"keydown\", closeByEscape);\n\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\" id=\"root\">\n        <div className=\"page\">\n          <BrowserRouter>\n            <Header email={email} onLogOut={handleLogOut} loggedIn={loggedIn} />\n            <Switch>\n              <ProtectedRoute\n                exact\n                path=\"/\"\n                loggedIn={loggedIn}\n                component={Main}\n                isAddPlacePopupOpen={handleAddPlaceClick}\n                isEditProfilePopupOpen={handleEditProfileClick}\n                isEditAvatarPopupOpen={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeleteClick}\n                cards={cards}\n                email={email}\n              />\n              <Route path=\"/signin\">\n                {loggedIn ? (\n                  <Redirect to=\"/\" />\n                ) : (\n                  <Login onLogin={handleSignIn} />\n                )}\n              </Route>\n              <Route path=\"/signup\">\n                {loggedIn ? (\n                  <Redirect to=\"/\" />\n                ) : (\n                  <Register onRegister={handleSignUp} />\n                )}\n              </Route>\n              <Route path=\"/\">\n                {!loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signup\" />}\n              </Route>\n            </Switch>\n          </BrowserRouter>\n          {loggedIn && <Footer />}\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddCard={handleAddCard}\n          />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            isOpen={imageOpened}\n          />\n          <InfoTooltip\n            isOpen={isInfoTooltipPopupOpen}\n            onClose={closeAllPopups}\n            isSuccessful={success}\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}